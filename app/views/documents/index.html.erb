

<div class="navbar-heat">
  <div class="nav-sx">
    <%= link_to root_path do %>
    <%= image_tag "target(1).png" %>
    <% end %>
  </div>

  <div class="nav-dx">
    <div >
       <%= link_to "Logout", destroy_user_session_path%>
    </div>
    <div>
     <a href="#">Setting</a>
    </div>

    </div>
  </div>


<div class="flex-container">

  <div class="col-4">
    <div class="scrollable-container">
      <div>
        <%= form_tag project_documents_path, class: "", method: :get do %>
        <%= text_field_tag :query,
        params[:query],
        class: "form text-field",
        placeholder: "Search"
        %>
        <% end %>
      </div>

      <h3 class="ml-4 my-4">This are all your files</h3>
      <ul>
        <% @documents.each do |document| %>
        <h4><li> <%= link_to "#{document.first_name}, #{document.name}", project_documents_path(document_id: document.id) %> </li></h4>
        <p>- How many columns <%= document.to_csv.first.keys.size %>, and <%= document.to_csv.size  %></p>
        <% end %>
      </ul>
    </div>
  </div>
    <div class="col-7 text-center ml-5" data-controller="table">
      <div class="uploader" data-controller="dropzone" data-dropzone-accepted-files="text/csv" >
        <%= simple_form_for(Document.new, :url => { :action => "create" })  do |f| %>
        <%= f.input :name, placeholder: "Name of the document"%>
        <%= f.input :link, input_html: { class: 'dropzone form-height' }, data: { target: 'dropzone.input' } %>
        <%= f.submit %>
        <% end %>
      </div>
      <% if params[:document_id].present?  %>
      <div data-controller="table">
      <div class="chart-links">
        <div class="chart-item">
        <a href="">Results <span class="ancor-icon"><i class="fas fa-file-csv fa-2x"></i></span></a>
        </div>
        <div class="chart-item">
      <%= link_to "bar", charts_preview_path(document_id: params[:document_id], chart_type: "bar", text: ""), data: { action: 'click->table#check', target: 'table.link'} %>
      <i class="fas fa-chart-pie fa-2x"></i>
      </div>
      <div class="chart-item">
      <%= link_to "line", charts_preview_path(document_id: params[:document_id], chart_type: "line", text: ""), data: { action: 'click->table#check', target: 'table.link'} %>
      <i class="fas fa-chart-line fa-2x"></i>
      </div>
      <div class="chart-item">
      <%= link_to "doughnut", charts_preview_path(document_id: params[:document_id], chart_type: "doughnut", text: ""), data: { action: 'click->table#check', target: 'table.link'} %>
      <i class="fas fa-chart-bar fa-2x"></i>
      </div>
      <div class="chart-item">
      <%= link_to "Export", charts_preview_path(document_id: params[:document_id], chart_type: "doughnut"), data: { action: 'click->table#check', target: 'table.link'} %>
      <i class="fas fa-file-export fa-2x"></i>
      </div>
    </div>

    <div class="table-scroll">
      <table class="table table-content">

        <thead class="thead-dark">
          <tr>
            <% @headers.each_with_index do |element, index| %>
            <td id="header"
              class="head-cell
              <%= element %>"
              data-column-id="<%= index %>"
              data-action="click->table#toggle">
              <%= element %>
            </td>
            <% end %>
          </tr>
        </thead>
        <tbody>
          <% @arrayofhash.each do |row| %>
          <tr>
            <% row.each_with_index do |hash, index| %>
            <td class="<%= hash.first %> cell-border"
              dataColumnId="<%= index %>"
              data-target="table.cell">
              <%= hash.last %>
            </td>
            <% end %>
          </tr>
          <% end %>
        </tbody>
      </table>
      <% end %>
      </div>
    </div>
    </div>
  </div>





